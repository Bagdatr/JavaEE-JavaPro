<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout/main.html"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <div class="row" layout:fragment="content">

        <div class="row alert alert-danger" th:if="${param.new_password_not_match != null}">
            <h3>NEW PASSWORD NOT MATCHED</h3>
        </div>
        <div class="row alert alert-danger" th:if="${param.incorrect_old_password != null}">
            <h3>INCORRECT OLD PASSWORD</h3>
        </div>
        <div class="row alert alert-danger" th:if="${param.user_not_found != null}">
            <h3>USER NOT FOUND</h3>
        </div>

        <form th:action="@{'/change-password'}" method="post">
            <div class="form-group">
                <label class="form-label">EMAIL:</label>
                <input type="email" class="form-control" name="user-email" th:value="${#authentication.principal.email}">
            </div>
            <div class="form-group">
                <label class="form-label">OLD-PASSWORD:</label>
                <input type="password" class="form-control" name="user-old-password">
            </div>
            <div class="form-group">
                <label class="form-label">NEW-PASSWORD:</label>
                <input type="password" class="form-control" name="user-new-password">
            </div>
            <div class="form-group">
                <label class="form-label">RE-PASSWORD:</label>
                <input type="password" class="form-control" name="user-re-password">
            </div>
            <div class="form-group">
                <button class="btn btn-success">CHANGE PASSWORD</button>
            </div>
        </form>
    </div>

</html>